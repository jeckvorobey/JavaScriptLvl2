<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <div id="nav"></div>
    <div id="mainNav" style="margin-top: 100px;"></div>

    <script src="./Menu.js"></script>
    <script src="./MenuItem.js"></script>
    <script src="./SubMenu.js"></script>

    <script src="./mainMenu.js"></script>


    <script>
        window.onload = () => {
            let block = document.getElementById('nav');

            let menu = new Menu('my', 'my', [
                new MenuItem('/', 'Menu', []),
                new MenuItem('/about', 'About', []),
                new MenuItem('/services', 'Services', []),
                new MenuItem('/info', 'info', []),
            ]);

            block.innerHTML = menu.render();

            // Создание кнопок для удаления меню
            btnRemove = () => {
                let btn = document.createElement("button");
                btn.textContent = "Удалить";
                btn.onclick = () => {
                    menu.remove();
                    btn.style = 'display:none';
                    btnReturn();
                }
                block.appendChild(btn);
            }
            //кнопка возврата меню
            btnReturn = () => {
                let btnReturn = document.createElement("button");
                btnReturn.textContent = "Вернуть";
                btnReturn.onclick = () => {
                    block.innerHTML = menu.render();
                    btnRemove();
                }
                block.appendChild(btnReturn);
            }

            btnRemove();

            // Создаем mainMenu
            let blockMainMenu = document.getElementById('mainNav');

            let mainMenu = new MainMenu('mainNavId', 'mainNavClass', [
                    new MenuItem('/', 'Меню', [
                        new SubMenu('/subMenu', 'Подменю'),
                    ]),
                    new MenuItem('/about', 'О бо мне', []), 
                    new MenuItem('/services', 'Сервисы', [
                        new SubMenu('/subServices', 'Сервис'),
                        new SubMenu('/subServices1', 'Сервис1'),
                    ]),
                    new MenuItem('/info', 'Информация', [])
                ]);

            blockMainMenu.innerHTML = mainMenu.render();

            //кнопка удаления mainMenu
            btnRemoveMainMenu = () => {
                let btn = document.createElement("button");
                btn.textContent = "Удалить";
                btn.onclick = () => {
                    mainMenu.remove();
                    btn.style = 'display:none';
                    btnReturnMainMenu();
                }
                blockMainMenu.appendChild(btn);
            }
            // Кнопка возврата mainMenu
            btnReturnMainMenu = () => {
                let btnReturn = document.createElement("button");
                btnReturn.textContent = "Вернуть";
                btnReturn.onclick = () => {
                    blockMainMenu.innerHTML = mainMenu.render();
                    btnRemoveMainMenu();
                }
                blockMainMenu.appendChild(btnReturn);
            }

            btnRemoveMainMenu();

        }
    </script>

</body>

</html>